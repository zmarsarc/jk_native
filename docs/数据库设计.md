# 数据库设计

- [goods](#商品库存表-goods)
- [costs](#成本表costs)
- [orders](#订单信息表-orders)
- [order_logs](#订单日志-order_logs)
- [order_detail](#订单详情表-order_detail)
- [jk_inventory](#jk尺码库存表-jk_inventory)
- [accessories_inventory](#小物库存信息-accessories_inventory)

</br>

--------------------------

</br>

## 商品库存表 goods：

### 表信息

| 键名 | 名称 | 说明 |
| :---: | :---: | :--- |
| id | 商品id | 标识唯一的商品信息
| name | 商品名称 | 记录商品名称
| goods_type | 类型 | 指示商品的类型，例如JK、Lo、水手服、小物等等
| create_time| 创建时间 | 商品入库时间
| comment | 备注 | 一些说明信息

</br>

商品库存表的一条记录就记载一款商品的主要信息，不同的商品之间id不同，同类商品间的名称不能相同。商品的具体库存数据或尺码表，作为外挂的表单独记录。外挂表和商品表之间通过商品id关联。

</br>

## 成本表costs

### 表信息

| 键名 | 名称 | 说明 |
| :---: | :---: | :--- |
| id | 成本id | 做主键
| goods_id | 商品id | 关联到商品，指明此条成本记录属于哪个商品
| cost_type | 成本类型 | 织布、成衣、仓储运输等等
| cost | 值 | 核算后的该项总成本

</br>

成本原本存放在商品信息中，但是考虑到成本有许多（如织布、加工、仓储等等），记录成一个平均每件的成本会丢失很多信息，所以还是单独拿出来记录比较好。成本通过商品id和商品关联。 

</br>

## 订单信息表 orders：

### 表信息

| 键名 | 名称 | 说明
| :--: | :--: | :--
| id | 订单id | 标识一个唯一的订单
| order_type | 订单类型 | 指示订单类型，全款、预售、寄售等等
| customer | 客户名 | 客户的名称
| create_time | 创建时间 | 订单生成时间
| comment | 备注 | 一些说明性的信息

</br>

订单表的一条记录就记载了唯一的一个订单信息，订单的具体内容作为附加内容记录在order_detail表中，通过订单id关联在一起。

</br>

## 订单日志 order_logs

### 表信息

| 键名 | 名称 | 说明
| :--: | :--: | :--
| id | 日志id |
| order_id | 订单id |
| event | 事件 | 收款、发货、结单
| time | 时间

</br>

记录了订单整个生命中期中的一些重要的节点时间

</br>

## 订单详情表 order_detail:

### 表信息

| 键名 | 名称 | 说明
| :--: | :--: | :--
| id | 主键 | 某一订单中的一条项目的唯一id
| order_id | 订单id | 关联到订单表的订单id
| goods_id | 商品id | 订单内的一款商品，关联到goods表的主键
| item_id | 商品次级id | 指的是商品的尺码、款式、类型等，关联到对应商品的附加信息表的主键
| total | 数量 | 商品数量
| price | 单价 | 每件单价
| create_time | 创建时间 |
| comment | 备注 |

</br>

订单详情记录一个订单内的所有商品信息，通过订单id关联到订单上，商品id指定了商品，次级商品id指定了款式等信息，商品id-次级商品id一起共同指定一款货物。

</br>

## jk尺码库存表 jk_inventory:

### 表信息

| 键名 | 名称 | 说明
| :--: | :--: | :--
| id | 尺码id | 某样jk的某款尺码的唯一id
| serial_number | 序列号、货号 | 某一样库存的货号
| goods_id | 商品id | 指定尺码所属的商品，关联到goods表
| size_code | 尺码号 | S、M、L、XL等
| length | 裙长 | 对jk，除了腰围尺码还有裙长的信息
| total | 存量 | 这个尺寸的jk的存量

</br>

jk尺码库存表记录了jk的尺码和对应的库存信息。

</br>

## 小物库存信息 accessories_inventory

### 表信息

| 键名 | 名称 | 说明
| :--: | :--: | :--
| id | 小物id |
| type | 小物类型 | 小物的类型
| serial_number | 货号
| goods_id | 商品id | 小物也算商品，可以单买，有一个管理的商品记录
| associate_goods | 管理商品id | 有的小物是搭售，需要和衣服一起卖，这里可以记录管理的衣服id
| total | 库存量

</br>

小物的库存信息